{% extends "base.html" %}

{% block content %}
<div class="flex-container">
    <main>
        <div>
            <canvas id="myChart"></canvas>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>


        <script>
            const ctx = document.getElementById('myChart');

            const data = {
    datasets: {{ datasets|safe }}
    };

    function findMinValue(arr, property) {
        return arr.reduce((min, obj) => {
            return obj[property] < min ? obj[property] : min;
        }, Infinity);
    }

            const chart = new Chart(ctx, {
    type: 'line',
    data: data,
    options: {
        scales: {
            x: {
                type: 'time',
                time: {
                    unit: 'month'
                }
            }
        },
        elements: {
                    point:{
                        radius: 0
                    }
        },
        showLine: true,
        borderWidth: 1,
        spanGaps: false
    }
});
        </script>
    </main>
    <aside>
    </aside>
</div>
{% endblock %}
